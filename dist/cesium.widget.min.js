!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(10);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(11).default,o=n(6);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(12),o=n(13),r=n(14),s=n(15);e.exports=function(e){return i(e)||o(e)||r(e)||s()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){n(27),e.exports=n(16)},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,i)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(7);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(7);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t);n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),r=n(2),s=n.n(r),a=n(3),c=n.n(a),u=n(4),l=n.n(u),p=n(0),h=n.n(p),d=function(){function e(){o()(this,e)}return s()(e,null,[{key:"create",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}},{key:"setClass",value:function(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}},{key:"parseDom",value:function(e,t,n){var i;t=null!==(i=t)&&void 0!==i&&i;var o=document.createElement("div");return o.className=n||"",o.innerHTML=e,t?o:o.childNodes}}]),e}(),f={compass_outer:'\n<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="162px" height="162px" viewBox="0 0 162 162" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>compass-outer</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="compass-outer" fill-rule="nonzero">\n            <path d="M80.8410544,161.682109 C36.1937731,161.682109 0,125.488336 0,80.8410544 C0,36.1937731 36.1937731,0 80.8410544,0 C125.488336,0 161.682109,36.1937731 161.682109,80.8410544 C161.682109,125.488336 125.488336,161.682109 80.8410544,161.682109 Z M81.1836011,134.620909 C110.696211,134.620909 134.620909,110.696211 134.620909,81.1836011 C134.620909,51.6709916 110.696211,27.7462941 81.1836011,27.7462941 C51.6709916,27.7462941 27.7462941,51.6709916 27.7462941,81.1836011 C27.7462941,110.696211 51.6709916,134.620909 81.1836011,134.620909 Z" id="Oval-108"></path>\n            <circle id="Oval-74" fill="#FFFFFF" cx="129.493683" cy="127.952092" r="1.54159147"></circle>\n            <circle id="Oval-74-Copy-3" fill="#FFFFFF" cx="129.493683" cy="35.4566038" r="1.54159147"></circle>\n            <circle id="Oval-74-Copy-5" fill="#FFFFFF" cx="30.8318294" cy="127.952092" r="1.54159147"></circle>\n            <circle id="Oval-74-Copy-4" fill="#FFFFFF" cx="30.8318294" cy="35.4566038" r="1.54159147"></circle>\n            <polygon id="N" fill="#FFFFFF" points="84.9318072 23.1238721 84.9318072 13.1321362 82.5623385 13.1321362 82.5623385 19.2984646 77.951866 13.1321362 75.7108625 13.1321362 75.7108625 23.1238721 78.0946053 23.1238721 78.0946053 16.9718176 82.6908037 23.1238721"></polygon>\n            <polygon id="Line" fill="#FFFFFF" points="143.368007 82.1093476 152.617555 82.1093476 152.617555 81.2993476 143.368007 81.2993476"></polygon>\n            <polygon id="Line-Copy-8" fill="#FFFFFF" points="9.24954884 82.1093476 18.4990976 82.1093476 18.4990976 81.2993476 9.24954884 81.2993476"></polygon>\n            <polygon id="Line" fill="#FFFFFF" points="81.2993476 143.368007 81.2993476 152.617555 82.1093476 152.617555 82.1093476 143.368007"></polygon>\n        </g>\n    </g>\n</svg>\n',compass_inner:'\n<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="17px" height="17px" viewBox="0 0 17 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>compass-inner</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="compass-inner" fill-rule="nonzero">\n            <path d="M8.5,16.5 C4.081722,16.5 0.5,12.918278 0.5,8.5 C0.5,4.081722 4.081722,0.5 8.5,0.5 C12.918278,0.5 16.5,4.081722 16.5,8.5 C16.5,12.918278 12.918278,16.5 8.5,16.5 Z M8.5,15.5 C12.3659932,15.5 15.5,12.3659932 15.5,8.5 C15.5,4.63400675 12.3659932,1.5 8.5,1.5 C4.63400675,1.5 1.5,4.63400675 1.5,8.5 C1.5,12.3659932 4.63400675,15.5 8.5,15.5 Z" id="Oval-96"></path>\n            <path d="M9.92599835,7.09066832 C12.7122872,9.87695712 14.3709388,12.5452228 13.4497471,13.4664145 C12.5285555,14.3876061 9.86028979,12.7289545 7.074001,9.94266568 C4.2877122,7.15637688 2.62906055,4.48811119 3.55025221,3.56691953 C4.47144386,2.64572788 7.13970955,4.30437952 9.92599835,7.09066832 Z M9.21889157,7.7977751 C6.92836458,5.50724811 4.52075769,4.01062761 4.25735899,4.27402631 C3.99396029,4.53742501 5.49058078,6.9450319 7.78110778,9.2355589 C10.0716348,11.5260859 12.4792417,13.0227064 12.7426404,12.7593077 C13.0060391,12.495909 11.5094186,10.0883021 9.21889157,7.7977751 Z" id="Oval-96-Copy-2"></path>\n            <path d="M9.92599835,9.94266568 C7.13970955,12.7289545 4.47144386,14.3876061 3.55025221,13.4664145 C2.62906055,12.5452228 4.2877122,9.87695712 7.074001,7.09066832 C9.86028979,4.30437952 12.5285555,2.64572788 13.4497471,3.56691953 C14.3709388,4.48811119 12.7122872,7.15637688 9.92599835,9.94266568 Z M9.21889157,9.2355589 C11.5094186,6.9450319 13.0060391,4.53742501 12.7426404,4.27402631 C12.4792417,4.01062761 10.0716348,5.50724811 7.78110778,7.7977751 C5.49058078,10.0883021 3.99396029,12.495909 4.25735899,12.7593077 C4.52075769,13.0227064 6.92836458,11.5260859 9.21889157,9.2355589 Z" id="Oval-96-Copy-3"></path>\n            <path d="M15.1464466,1.1464466 L14.3453364,1.94755684 L13.9608692,2.33202401 L14.667976,3.03913077 L15.0524431,2.65466362 L15.8535534,1.8535534 L15.1464466,1.1464466 Z M2.29760014,13.995293 L1.85311902,14.4397742 L1.004311,15.2885822 L1.71141776,15.995689 L2.56022581,15.146881 L3.00470698,14.7023998 L2.29760014,13.995293 Z" id="Line"></path>\n            <circle id="Oval-432" cx="16" cy="1" r="1"></circle>\n            <circle id="Oval-432-Copy" cx="1" cy="16" r="1"></circle>\n        </g>\n    </g>\n</svg>\n',compass_rotation_marker:'\n<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="53px" height="53px" viewBox="0 0 53 53" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>compass-rotation-marker</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="compass-rotation-marker">\n            <path d="M52.4399986,26.2199993 C52.4399986,11.7390936 40.7009051,0 26.2199993,0 C11.7390936,0 0,11.7390936 0,26.2199993 C0,40.7009051 11.7390936,52.4399986 26.2199993,52.4399986 C40.7009051,52.4399986 52.4399986,40.7009051 52.4399986,26.2199993 Z" id="rotator" stroke-opacity="0.135841259" stroke="#E2A549" stroke-width="9" opacity="0.201434235"></path>\n            <path d="M0,26.2199993 C0,11.7390936 11.7390936,0 26.2199993,0 L26.2199993,9 C16.7096563,9 9,16.7096563 9,26.2199993" id="Shape" opacity="0.634561567" fill="#4990E2"></path>\n        </g>\n    </g>\n</svg>\n',decrease:'\n<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="50px" height="6px" viewBox="0 0 50 6" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>decrease</title>\n    <path d="M46.6183575,0.657894737 L3.30112724,0.657894737 C1.44927539,0.657894737 0,1.66880618 0,2.96052632 C0,4.25224645 1.44927539,5.26315789 3.30112724,5.26315789 L46.6988728,5.26315789 C48.5507246,5.26315789 50,4.25224645 50,2.96052632 C49.9194847,1.66880618 48.4702093,0.657894737 46.6183575,0.657894737 L46.6183575,0.657894737 L46.6183575,0.657894737 Z" id="Shape"></path>\n</svg>\n',increase:'\n<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="50px" height="50px" viewBox="0 0 50 50" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>increase</title>\n    <path d="M0,25 C0,25.3514939 0.131810207,25.659051 0.373462207,25.900703 C0.615114207,26.142355 0.922671379,26.2741652 1.27416517,26.2741652 L23.7258348,26.2741652 L23.7258348,48.7258348 C23.7258348,49.0773286 23.857645,49.3848858 24.099297,49.6265378 C24.3189807,49.8462214 24.6485061,50 25,50 C25.7029877,50 26.2741652,49.4288225 26.2741652,48.7258348 L26.2741652,26.2741652 L48.7258348,26.2741652 C49.4288225,26.2741652 50,25.7029877 50,25 C50,24.2970123 49.4288225,23.7258348 48.7258348,23.7258348 L26.2741652,23.7258348 L26.2741652,1.27416517 C26.2741652,0.571177517 25.7029877,0 25,0 C24.2970123,0 23.7258348,0.571177517 23.7258348,1.27416517 L23.7258348,23.7258348 L1.27416517,23.7258348 C0.571177517,23.7258348 0,24.2970123 0,25 L0,25 L0,25 L0,25 Z" id="Shape"></path>\n</svg>\n',refresh:'\n<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="50px" height="50px" viewBox="0 0 50 50" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>refresh</title>\n    <path d="M48.2758621,0 C47.2844828,0 46.5086207,0.775193846 46.5086207,1.76571923 L46.5086207,12.2308355 C42.0689655,4.78036173 34.0086207,0 25,0 C11.2068965,0 0,11.1972438 0,25.0215332 C0,38.8458226 11.2068965,50 25,50 C38.7931035,50 50,38.8027562 50,25.0215332 C50,24.0310078 49.2241379,23.2558139 48.2327587,23.2558139 C47.2413793,23.2558139 46.4655172,24.0310078 46.4655172,25.0215332 C46.4655172,36.8647717 36.8103448,46.5116279 24.9568965,46.5116279 C13.1034483,46.5116279 3.49137933,36.8217054 3.49137933,24.9784668 C3.49137933,13.1352283 13.1465517,3.48837212 25,3.48837212 C33.4913793,3.48837212 41.0775862,8.44099913 44.5258621,16.0206718 L32.1551724,16.0206718 C31.1637931,16.0206718 30.3879311,16.7958657 30.3879311,17.7863911 C30.3879311,18.7769164 31.1637931,19.5521103 32.1551724,19.5521103 L48.2327587,19.5521103 C49.2241379,19.5521103 50,18.7769164 50,17.7863911 L50,1.72265288 C50,0.775193846 49.2241379,0 48.2758621,0 L48.2758621,0 L48.2758621,0 Z" id="Shape"></path>\n</svg>\n',splitter:'\n<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="19px" height="28px" viewBox="0 0 19 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <path d="M0.6551724,2.3448276 L0.6551724,25.6551724 C0.6551724,26.6454761 1.4579722,27.4482759 2.4482759,27.4482759 C3.4385796,27.4482759 4.2413793,26.6454761 4.2413793,25.6551724 L4.2413793,2.3448276 C4.2413793,1.3545239 3.4385796,0.5517241 2.4482759,0.5517241 C1.4579722,0.5517241 0.6551724,1.3545239 0.6551724,2.3448276 L0.6551724,2.3448276 Z M7.6551724,2.3448276 L7.6551724,25.6551724 C7.6551724,26.6454761 8.4579722,27.4482759 9.4482759,27.4482759 C10.4385796,27.4482759 11.2413793,26.6454761 11.2413793,25.6551724 L11.2413793,2.3448276 C11.2413793,1.3545239 10.4385796,0.5517241 9.4482759,0.5517241 C8.4579722,0.5517241 7.6551724,1.3545239 7.6551724,2.3448276 L7.6551724,2.3448276 Z M14.6551724,2.3448276 L14.6551724,25.6551724 C14.6551724,26.6454761 15.4579722,27.4482759 16.4482759,27.4482759 C17.4385796,27.4482759 18.2413793,26.6454761 18.2413793,25.6551724 L18.2413793,2.3448276 C18.2413793,1.3545239 17.4385796,0.5517241 16.4482759,0.5517241 C15.4579722,0.5517241 14.6551724,1.3545239 14.6551724,2.3448276 L14.6551724,2.3448276 Z" id="splitter"></path>\n</svg>\n'},m=function(){function e(){o()(this,e),this._viewer=void 0,this._ready=!1,this._wrapper=void 0,this._enabled=!1}return s()(e,[{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this._enableHook&&this._enableHook()}},{key:"_mountContent",value:function(){}},{key:"_bindEvent",value:function(){}},{key:"_unbindEvent",value:function(){}},{key:"_enableHook",value:function(){!this._ready&&this._mountContent(),this._enabled?(!this._wrapper.parentNode&&this._viewer.container.appendChild(this._wrapper),this._bindEvent()):(this._unbindEvent(),this._wrapper.parentNode&&this._viewer.container.removeChild(this._wrapper))}},{key:"_updateWindowCoord",value:function(e){}},{key:"setContent",value:function(e){if(e&&"string"==typeof e)this._wrapper.innerHTML=e;else if(e&&e instanceof Element){for(;this._wrapper.hasChildNodes();)this._wrapper.removeChild(this._wrapper.firstChild);this._wrapper.appendChild(e)}return this}},{key:"hide",value:function(){this._wrapper&&(this._wrapper.style.cssText="\n    visibility:hidden;\n    ")}},{key:"addTo",value:function(e){return this}}]),e}();function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l()(this,n)}}var _=function(e){c()(n,e);var t=v(n);function n(){var e;return o()(this,n),(e=t.call(this))._wrapper=d.create("div","cesium-compass"),e._compassRectangle=void 0,e._outRing=void 0,e._gyro=void 0,e._rotation_marker=void 0,e._orbitCursorAngle=0,e._orbitCursorOpacity=0,e._orbitLastTimestamp=0,e._orbitFrame=void 0,e._orbitIsLook=!1,e._rotateInitialCursorAngle=void 0,e._rotateFrame=void 0,e._mouseMoveHandle=void 0,e._mouseUpHandle=void 0,e.type="compass",e}return s()(n,[{key:"_bindEvent",value:function(){this._viewer.scene.postRender.addEventListener(this._postRenderHandler,this)}},{key:"_unbindEvent",value:function(){this._viewer.scene.postRender.removeEventListener(this._postRenderHandler,this)}},{key:"_postRenderHandler",value:function(){var e=this._viewer.camera.heading;this._outRing&&(this._outRing.style.cssText="\n      transform : rotate(-".concat(e,"rad);\n      -webkit-transform : rotate(-").concat(e,"rad);\n      "))}},{key:"_mountContent",value:function(){d.create("div","out-ring-bg",this._wrapper),this._outRing=d.parseDom(f.compass_outer,!0,"out-ring"),this._wrapper.appendChild(this._outRing),this._gyro=d.parseDom(f.compass_inner,!0,"gyro"),this._wrapper.appendChild(this._gyro),this._rotation_marker=d.parseDom(f.compass_rotation_marker,!0,"rotation_marker"),this._wrapper.appendChild(this._rotation_marker),this._rotation_marker.style.visibility="hidden",this._ready=!0}},{key:"_handleMouseDown",value:function(e){if(this._viewer.scene.mode===Cesium.SceneMode.MORPHING)return!0;this._compassRectangle=e.currentTarget.getBoundingClientRect();var t=this._compassRectangle.width/2,n=this._getVector(e),i=Cesium.Cartesian2.magnitude(n)/t;if(i<50/145)this._orbit(n);else{if(!(i<1))return!0;this._rotate(n)}}},{key:"_handleDoubleClick",value:function(e){var t=this._viewer.scene,n=t.camera,i=t.screenSpaceCameraController;if(t.mode===Cesium.SceneMode.MORPHING||!i.enableInputs)return!0;if(t.mode!==Cesium.SceneMode.COLUMBUS_VIEW||i.enableTranslate){if(t.mode===Cesium.SceneMode.SCENE3D||t.mode===Cesium.SceneMode.COLUMBUS_VIEW){if(!i.enableLook)return;if(t.mode===Cesium.SceneMode.SCENE3D&&!i.enableRotate)return}var o=this._getCameraFocus(!0);if(o){var r=t.globe.ellipsoid.cartographicToCartesian(n.positionCartographic),s=t.globe.ellipsoid.geodeticSurfaceNormal(o),a=new Cesium.BoundingSphere(o,0);n.flyToBoundingSphere(a,{offset:new Cesium.HeadingPitchRange(0,Cesium.Math.PI_OVER_TWO-Cesium.Cartesian3.angleBetween(s,n.directionWC),Cesium.Cartesian3.distance(r,o)),duration:1.5})}}}},{key:"_getCameraFocus",value:function(e){var t=new Cesium.Cartesian3,n=this._viewer.scene,i=n.camera;if(n.mode!==Cesium.SceneMode.MORPHING){if(this._viewer.trackedEntity)t=this._viewer.trackedEntity.position.getValue(this._viewer.clock.currentTime);else{var o=new Cesium.Ray;o.origin=i.positionWC,o.direction=i.directionWC,t=n.globe.pick(o,n)}if(t){if(n.mode===Cesium.SceneMode.SCENE2D||n.mode===Cesium.SceneMode.COLUMBUS_VIEW){t=i.worldToCameraCoordinatesPoint(t);var r=new Cesium.Cartographic;e&&(t=n.globe.ellipsoid.cartographicToCartesian(n.mapProjection.unproject(t,r)))}else e||(t=i.worldToCameraCoordinatesPoint(t));return t}}}},{key:"_orbit",value:function(e){var t=this,n=this._viewer.scene,i=n.screenSpaceCameraController,o=n.camera;if(n.mode!==Cesium.SceneMode.MORPHING&&i.enableInputs){switch(n.mode){case Cesium.SceneMode.COLUMBUS_VIEW:if(i.enableLook)break;if(!i.enableTranslate||!i.enableTilt)return;break;case Cesium.SceneMode.SCENE3D:if(i.enableLook)break;if(!i.enableTilt||!i.enableRotate)return;break;case Cesium.SceneMode.SCENE2D:if(!i.enableTranslate)return}if(this._mouseMoveHandle=function(e){t._orbitMouseMoveFunction(e)},this._mouseUpHandle=function(){t._orbitMouseUpFunction()},document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._orbitLastTimestamp=Cesium.getTimestamp(),this._viewer.trackedEntity)this._orbitFrame=void 0,this._orbitIsLook=!1;else{var r=this._getCameraFocus(!0);r?(this._orbitFrame=Cesium.Transforms.eastNorthUpToFixedFrame(r,n.globe.ellipsoid),this._orbitIsLook=!1):(this._orbitFrame=Cesium.Transforms.eastNorthUpToFixedFrame(o.positionWC,n.globe.ellipsoid),this._orbitIsLook=!0)}this._rotation_marker.style.visibility="visible",this._gyro.className+=" gyro-active",document.addEventListener("mousemove",this._mouseMoveHandle,!1),document.addEventListener("mouseup",this._mouseUpHandle,!1),this._viewer.clock.onTick.addEventListener(this._orbitTickFunction,this),this._updateAngleAndOpacity(e,this._compassRectangle.width)}}},{key:"_orbitTickFunction",value:function(e){var t,n=this._viewer.scene,i=this._viewer.camera,o=Cesium.getTimestamp(),r=(o-this._orbitLastTimestamp)*(2.5*(this._orbitCursorOpacity-.5)/1e3),s=this._orbitCursorAngle+Cesium.Math.PI_OVER_TWO,a=Math.cos(s)*r,c=Math.sin(s)*r;this._orbitFrame&&(t=Cesium.Matrix4.clone(i.transform),i.lookAtTransform(this._orbitFrame)),n.mode===Cesium.SceneMode.SCENE2D?i.move(new Cesium.Cartesian3(a,c,0),Math.max(n.canvas.clientWidth,n.canvas.clientHeight)/100*i.positionCartographic.height*r):this._orbitIsLook?(i.look(Cesium.Cartesian3.UNIT_Z,-a),i.look(i.right,-c)):(i.rotateLeft(a),i.rotateUp(c)),this._orbitFrame&&t&&i.lookAtTransform(t),this._orbitLastTimestamp=o}},{key:"_updateAngleAndOpacity",value:function(e,t){var n=Math.atan2(-e.y,e.x);this._orbitCursorAngle=Cesium.Math.zeroToTwoPi(n-Cesium.Math.PI_OVER_TWO);var i=Cesium.Cartesian2.magnitude(e),o=t/2,r=Math.min(i/o,1);this._orbitCursorOpacity=.5*r*r+.5,this._rotation_marker.style.cssText="\n      transform: rotate(-".concat(this._orbitCursorAngle,"rad);\n      opacity: ").concat(this._orbitCursorOpacity)}},{key:"_orbitMouseMoveFunction",value:function(e){this._updateAngleAndOpacity(this._getVector(e),this._compassRectangle.width)}},{key:"_orbitMouseUpFunction",value:function(){document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._viewer.clock.onTick.removeEventListener(this._orbitTickFunction,this),this._mouseMoveHandle=void 0,this._mouseUpHandle=void 0,this._rotation_marker.style.visibility="hidden",this._gyro.className=this._gyro.className.replace(" gyro-active","")}},{key:"_rotate",value:function(e){var t=this,n=this._viewer.scene,i=n.camera,o=n.screenSpaceCameraController;if(n.mode!==Cesium.SceneMode.MORPHING&&n.mode!==Cesium.SceneMode.SCENE2D&&o.enableInputs&&(o.enableLook||n.mode!==Cesium.SceneMode.COLUMBUS_VIEW&&(n.mode!==Cesium.SceneMode.SCENE3D||o.enableRotate))){if(this._mouseMoveHandle=function(e){t._rotateMouseMoveFunction(e)},this._mouseUpHandle=function(){t._rotateMouseUpFunction()},document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._rotateInitialCursorAngle=Math.atan2(-e.y,e.x),this._viewer.trackedEntity)this._rotateFrame=void 0;else{var r=this._getCameraFocus(!0);r&&(n.mode!==Cesium.SceneMode.COLUMBUS_VIEW||o.enableLook||o.enableTranslate)?this._rotateFrame=Cesium.Transforms.eastNorthUpToFixedFrame(r,n.globe.ellipsoid):this._rotateFrame=Cesium.Transforms.eastNorthUpToFixedFrame(i.positionWC,n.globe.ellipsoid)}var s;this._rotateFrame&&(s=Cesium.Matrix4.clone(i.transform),i.lookAtTransform(this._rotateFrame)),this._rotateInitialCameraAngle=-i.heading,this._rotateFrame&&s&&i.lookAtTransform(s),document.addEventListener("mousemove",this._mouseMoveHandle,!1),document.addEventListener("mouseup",this._mouseUpHandle,!1)}}},{key:"_rotateMouseMoveFunction",value:function(e){var t,n=this._viewer.camera,i=this._getVector(e),o=Math.atan2(-i.y,i.x)-this._rotateInitialCursorAngle,r=Cesium.Math.zeroToTwoPi(this._rotateInitialCameraAngle-o);this._rotateFrame&&(t=Cesium.Matrix4.clone(n.transform),n.lookAtTransform(this._rotateFrame));var s=-n.heading;n.rotateRight(r-s),this._rotateFrame&&t&&n.lookAtTransform(t)}},{key:"_rotateMouseUpFunction",value:function(){document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._mouseMoveHandle=void 0,this._mouseUpHandle=void 0}},{key:"_getVector",value:function(e){var t=this._compassRectangle,n=new Cesium.Cartesian2((t.right-t.left)/2,(t.bottom-t.top)/2),i=new Cesium.Cartesian2(e.clientX-t.left,e.clientY-t.top),o=new Cesium.Cartesian2;return Cesium.Cartesian2.subtract(i,n,o),o}},{key:"addTo",value:function(e){var t=this;return this._viewer=e,Object.defineProperty(this._viewer,"compass",{value:this,writable:!1}),this._wrapper.onmousedown=function(e){t._handleMouseDown(e)},this._wrapper.ondblclick=function(e){t._handleDoubleClick(e)},this}}]),n}(m),C=n(6),y=n.n(C);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l()(this,n)}}var g=function(e){c()(n,e);var t=w(n);function n(){var e;return o()(this,n),(e=t.call(this))._wrapper=d.create("div","cesium-context-menu"),e._ulEl=void 0,e._handler=void 0,e._position=void 0,e._wgs84Position=void 0,e._surfacePosition=void 0,e._wgs84SurfacePosition=void 0,e._windowPosition=void 0,e._config={},e._defaultMenu=[{label:"飞到默认位置",callback:function(t){e._viewer.camera.flyHome(1.5)},context:y()(e)},{label:"取消飞行",callback:function(t){e._viewer.camera.cancelFlight()},context:y()(e)}],e._menus=[],e.type="context-menu",e}return s()(n,[{key:"DEFAULT_MENU",set:function(e){return this._defaultMenu=e,this}},{key:"config",set:function(e){return this._config=e,e.customClass&&this._setCustomClass(),this}},{key:"_bindEvent",value:function(){var e=this;this._handler.setInputAction((function(t){e._onRightClick(t)}),Cesium.ScreenSpaceEventType.RIGHT_CLICK),this._handler.setInputAction((function(t){e._onClick(t)}),Cesium.ScreenSpaceEventType.LEFT_CLICK)}},{key:"_unbindEvent",value:function(){this._handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK),this._handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK)}},{key:"_mountContent",value:function(){this._ulEl=d.create("ul","menu-list",this._wrapper),this._ready=!0}},{key:"_mountMenu",value:function(){for(var e=this;this._ulEl.hasChildNodes();)this._ulEl.removeChild(this._ulEl.firstChild);this._menus&&this._menus.length&&this._menus.forEach((function(t){e._addMenuItem(t.label,t.callback,t.context||e)})),this._defaultMenu&&this._defaultMenu.length&&this._defaultMenu.forEach((function(t){e._addMenuItem(t.label,t.callback,t.context||e)}))}},{key:"_onRightClick",value:function(e){if(this._enabled){this._overlay=void 0;var t=this._viewer.scene;if(this._windowPosition=e.position,this._updateWindowCoord(e.position),t.pickPositionSupported&&(this._position=t.pickPosition(e.position)),this._position){var n=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this._position);n&&(this._wgs84Position={lng:Cesium.Math.toDegrees(n.longitude),lat:Cesium.Math.toDegrees(n.latitude),alt:n.height})}if(t.mode===Cesium.SceneMode.SCENE3D){var i=t.camera.getPickRay(e.position);this._surfacePosition=t.globe.pick(i,t)}else this._surfacePosition=t.camera.pickEllipsoid(e.position,Cesium.Ellipsoid.WGS84);if(this._surfacePosition){var o=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this._surfacePosition);o&&(this._wgs84SurfacePosition={lng:Cesium.Math.toDegrees(o.longitude),lat:Cesium.Math.toDegrees(o.latitude),alt:o.height})}this._mountMenu()}}},{key:"_onClick",value:function(e){this.hide()}},{key:"_updateWindowCoord",value:function(e){this._wrapper.style.cssText="\n    visibility:visible;\n    z-index:1;\n    transform:translate3d(".concat(Math.round(e.x),"px,").concat(Math.round(e.y),"px, 0);\n    ")}},{key:"_setCustomClass",value:function(){d.setClass(this._wrapper,"dc-context-menu ".concat(this._config.customClass))}},{key:"_addMenuItem",value:function(e,t,n){if(!e||!t)return this;var i=d.create("li","menu-item",null),o=d.create("a","",i);o.innerHTML=e,o.href="javascript:void(0)";var r=this;return t&&(o.onclick=function(){t.call(n,{windowPosition:r._windowPosition,position:r._position,wgs84Position:r._wgs84Position,surfacePosition:r._surfacePosition,wgs84SurfacePosition:r._wgs84SurfacePosition,overlay:r._overlay}),r.hide()}),this._ulEl.appendChild(i),this}},{key:"addMenu",value:function(e,t,n){return this._menus.push({label:e,callback:t,context:n}),this}},{key:"clearMenus",value:function(){return this._menus=[],this}},{key:"removeMenu",value:function(e){return this._menus.splice(e,1),this}},{key:"addTo",value:function(e){return this._viewer=e,Object.defineProperty(this._viewer,"contextMenu",{value:this,writable:!1}),this._handler=new Cesium.ScreenSpaceEventHandler(this._viewer.canvas),this}}]),n}(m),b=n(5),k=n.n(b);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l()(this,n)}}var E=new Cesium.EllipsoidGeodesic,M=[1,2,3,5],S=[].concat(M,k()(M.map((function(e){return 10*e}))),k()(M.map((function(e){return 100*e}))),k()(M.map((function(e){return 1e3*e}))),k()(M.map((function(e){return 1e4*e}))),k()(M.map((function(e){return 1e5*e}))),k()(M.map((function(e){return 1e6*e})))),T=function(e){c()(n,e);var t=x(n);function n(){var e;return o()(this,n),(e=t.call(this))._wrapper=d.create("div","cesium-distance-legend"),e._labelEl=void 0,e._scaleBarEl=void 0,e._lastUpdate=Cesium.getTimestamp(),e.type="distance_legend",e}return s()(n,[{key:"_installHook",value:function(){}},{key:"_bindEvent",value:function(){this._viewer.scene.preRender.addEventListener(this._updateContent,this)}},{key:"_unbindEvent",value:function(){this._viewer.scene.preRender.removeEventListener(this._updateContent,this)}},{key:"_updateContent",value:function(e,t){var n=Cesium.getTimestamp();if(!(n<this._lastUpdate+250)&&this._labelEl&&this._scaleBarEl){this._lastUpdate=n;var i=e.canvas.width,o=e.canvas.height,r=e.camera.getPickRay(new Cesium.Cartesian2(i/2|0,o-1)),s=e.camera.getPickRay(new Cesium.Cartesian2(1+i/2|0,o-1)),a=e.globe.pick(r,e),c=e.globe.pick(s,e);if(a&&c){E.setEndPoints(e.globe.ellipsoid.cartesianToCartographic(a),e.globe.ellipsoid.cartesianToCartographic(c));for(var u=E.surfaceDistance,l=0,p=S.length-1;p>=0;--p)if(S[p]/u<100){l=S[p];break}if(l){this._wrapper.style.visibility="visible",this._labelEl.innerHTML=l>=1e3?"".concat(l/1e3," km"):"".concat(l," m");var h=l/u|0;this._scaleBarEl.style.cssText="width: ".concat(h,"px; left: ").concat((125-h)/2,"px;")}}}}},{key:"_mountContent",value:function(){this._labelEl=d.create("div","label",this._wrapper),this._scaleBarEl=d.create("div","scale-bar",this._wrapper),this._wrapper.style.visibility="hidden",this._ready=!0}},{key:"addTo",value:function(e){return this._viewer=e,Object.defineProperty(this._viewer,"distanceLegend",{value:this,writable:!1}),this}}]),n}(m),L=n(8),O=n.n(L);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l()(this,n)}}var I={animation:!1,baseLayerPicker:!1,imageryProvider:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,creditContainer:void 0},H=function(e){c()(n,e);var t=R(n);function n(){var e;return o()(this,n),(e=t.call(this))._wrapper=d.create("div","cesium-hawkeye-map",null),e._wrapper.setAttribute("id","cesium-hawkeye-map"),e._imagerys=[],e._map=void 0,e.type="hawkeye_map",e}return s()(n,[{key:"imagerys",get:function(){return this._imagerys}},{key:"_mountContent",value:function(){var e=new Cesium.Viewer(this._wrapper,P(P({},I),{},{sceneMode:Cesium.SceneMode.SCENE2D}));e.imageryLayers.removeAll(),e.cesiumWidget.creditContainer.style.display="none",e.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),e.scene.backgroundColor=Cesium.Color.TRANSPARENT,e.scene.screenSpaceCameraController.enableRotate=!1,e.scene.screenSpaceCameraController.enableTranslate=!1,e.scene.screenSpaceCameraController.enableZoom=!1,e.scene.screenSpaceCameraController.enableTilt=!1,e.scene.screenSpaceCameraController.enableLook=!1,e.scene.screenSpaceCameraController.maximumZoomDistance=40489014,this._map=e,this._ready=!0}},{key:"_bindEvent",value:function(){this._viewer.camera.changed.addEventListener(this._syncMap,this)}},{key:"_unbindEvent",value:function(){this._viewer.camera.changed.removeEventListener(this._syncMap,this)}},{key:"_syncMap",value:function(){var e=new Cesium.Cartesian2(Math.floor(this._viewer.canvas.clientWidth/2),Math.floor(this._viewer.canvas.clientHeight/2)),t=this._viewer.scene.camera.pickEllipsoid(e);if(!t)return!1;var n=Cesium.Cartesian3.distance(t,this._viewer.scene.camera.positionWC);this._map.scene.camera.lookAt(t,new Cesium.Cartesian3(0,0,n))}},{key:"addImagery",value:function(e){var t=this;return this._map&&this._enabled?(e&&(this._imagerys&&this._imagerys.length&&this._map.imageryLayers.removeAll(),Array.isArray(e)||(e=[e]),e.forEach((function(e){t._imagerys.push(t._map.imageryLayers.addImageryProvider(e))}))),this):this}},{key:"addTo",value:function(e){return this._viewer=e,Object.defineProperty(this._viewer,"hawkeyeMap",{value:this,writable:!1}),this._viewer.camera.percentageChanged=.01,this}}]),n}(m);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l()(this,n)}}var U=function(e){c()(n,e);var t=A(n);function n(){var e;return o()(this,n),(e=t.call(this))._wrapper=d.create("div","cesium-loading-mask"),e.type="loading_mask",e}return s()(n,[{key:"_mountContent",value:function(){var e=d.parseDom("\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n    ",!0,"loading");this._wrapper.appendChild(e),this._ready=!0}},{key:"addTo",value:function(e){return this._viewer=e,Object.defineProperty(this._viewer,"loadingMask",{value:this,writable:!1}),this}}]),n}(m);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l()(this,n)}}var N=function(e){c()(n,e);var t=B(n);function n(){var e;return o()(this,n),(e=t.call(this))._wrapper=d.create("div","cesium-location-bar"),e._mouseEl=void 0,e._cameraEl=void 0,e._handler=void 0,e._lastMouseUpdate=Cesium.getTimestamp(),e._lastCameraUpdate=Cesium.getTimestamp(),e.type="location_bar",e}return s()(n,[{key:"_bindEvent",value:function(){var e=this;this._handler.setInputAction((function(t){e._moveHandler(t)}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),this._viewer.camera.changed.addEventListener(this._cameraHandler,this)}},{key:"_unbindEvent",value:function(){this._handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),this._viewer.camera.changed.removeEventListener(this._cameraHandler,this)}},{key:"_mountContent",value:function(){this._mouseEl=d.create("div","mouse-location",this._wrapper),this._cameraEl=d.create("div","camera-location",this._wrapper),this._ready=!0}},{key:"_moveHandler",value:function(e){var t=Cesium.getTimestamp();if(!(t<this._lastMouseUpdate+300)){this._lastMouseUpdate=t;var n=this._viewer.scene,i=Cesium.Ellipsoid.WGS84,o=void 0;if(n.mode===Cesium.SceneMode.SCENE3D){var r=n.camera.getPickRay(e.endPosition);o=n.globe.pick(r,n)}else o=n.camera.pickEllipsoid(e.endPosition,i);var s=o?i.cartesianToCartographic(o):void 0,a=+Cesium.Math.toDegrees((null==s?void 0:s.longitude)||0),c=+Cesium.Math.toDegrees((null==s?void 0:s.latitude)||0),u=s?+this._viewer.scene.globe.getHeight(s):0;this._mouseEl.innerHTML="\n      <span>经度：".concat(a.toFixed(8),"</span>\n      <span>纬度：").concat(c.toFixed(8),"</span>\n      <span>海拔：").concat(u.toFixed(2)," 米</span>")}}},{key:"_cameraHandler",value:function(){var e=Cesium.getTimestamp();if(!(e<this._lastCameraUpdate+300)){this._lastCameraUpdate=e;var t=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this._viewer.camera.positionWC);this._cameraEl.innerHTML="\n      <span>视角：".concat((+Cesium.Math.toDegrees(this._viewer.camera.pitch)).toFixed(2),"</span>\n      <span>视高：").concat((+t.height).toFixed(2)," 米</span>\n    ")}}},{key:"addTo",value:function(e){return this._viewer=e,Object.defineProperty(this._viewer,"locationBar",{value:this,writable:!1}),this._handler=new Cesium.ScreenSpaceEventHandler(this._viewer.canvas),this}}]),n}(m);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l()(this,n)}}var W=function(e){c()(n,e);var t=D(n);function n(){var e;return o()(this,n),(e=t.call(this))._wrapper=d.create("div","cesium-slider"),e._imagery=void 0,e._moveActive=!1,e.type="map_split",e}return s()(n,[{key:"_bindEvent",value:function(){this._viewer.scene.imagerySplitPosition=.5,this._wrapper.style.left="50%"}},{key:"_unbindEvent",value:function(){this._imagery?this._viewer.scene.imagerySplitPosition=this._imagery.splitDirection>0?1:0:this._viewer.scene.imagerySplitPosition=0}},{key:"_mountContent",value:function(){var e=d.parseDom(f.splitter,!0,"splitter");this._wrapper.appendChild(e);var t=new Cesium.ScreenSpaceEventHandler(e),n=this;t.setInputAction((function(){n._moveActive=!0}),Cesium.ScreenSpaceEventType.LEFT_DOWN),t.setInputAction((function(){n._moveActive=!0}),Cesium.ScreenSpaceEventType.PINCH_START),t.setInputAction((function(e){n._moveHandler(e)}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),t.setInputAction((function(e){n._moveHandler(e)}),Cesium.ScreenSpaceEventType.PINCH_MOVE),t.setInputAction((function(){n._moveActive=!1}),Cesium.ScreenSpaceEventType.LEFT_UP),t.setInputAction((function(){n._moveActive=!1}),Cesium.ScreenSpaceEventType.PINCH_END),this._ready=!0}},{key:"_moveHandler",value:function(e){if(this._moveActive&&this._enabled){var t=e.endPosition.x,n=(this._wrapper.offsetLeft+t)/this._wrapper.parentElement.offsetWidth;this._wrapper.style.left=100*n+"%",this._viewer.scene.imagerySplitPosition=n}}},{key:"addImagery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._viewer&&this._enabled?(e&&(this._imagery&&this._viewer.imageryLayers.remove(this._imagery),this._imagery=this._viewer.imageryLayers.addImageryProvider(e),this._imagery.splitDirection=t||0,this._viewer.scene.imagerySplitPosition=this._wrapper.offsetLeft/this._wrapper.parentElement.offsetWidth),this):this}},{key:"addTo",value:function(e){return this._viewer=e,Object.defineProperty(this._viewer,"mapSplit",{value:this,writable:!1}),this}}]),n}(m);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l()(this,n)}}var z=function(e){c()(n,e);var t=j(n);function n(){var e;return o()(this,n),(e=t.call(this))._wrapper=d.create("div","cesium-popup"),e._config={customClass:""},e._position=void 0,e.type="popup",e}return s()(n,[{key:"config",set:function(e){this._config=e,e.customClass&&this._setCustomClass()}},{key:"_bindEvent",value:function(){if(this._viewer&&this._wrapper){var e=this,t=this._viewer.scene;t.postRender.addEventListener((function(){if(e._position&&e._enabled&&e._updateWindowCoord&&"visible"===e._wrapper.style.visibility){var n=Cesium.SceneTransforms.wgs84ToWindowCoordinates(t,e._position);n&&e._updateWindowCoord(n)}}))}}},{key:"_mountContent",value:function(){this._wrapper.style.visibility="hidden"}},{key:"_updateWindowCoord",value:function(e){var t=e.x-this._wrapper.offsetWidth/2,n=e.y-this._wrapper.offsetHeight;this._config&&"left"===this._config.position?t=e.x-this._wrapper.offsetWidth:this._config&&"right"===this._config.position&&(t=e.x),this._wrapper.style.cssText="\n    visibility:visible;\n    z-index:1;\n    transform:translate3d(".concat(Math.round(t),"px,").concat(Math.round(n),"px, 0);\n    ")}},{key:"_setCustomClass",value:function(){d.setClass(this._wrapper,"".concat(this._config.customClass))}},{key:"setPosition",value:function(e){return this._position=e,this._wrapper&&(this._wrapper.style.cssText="\n    visibility:visible;\n    "),this}},{key:"showAt",value:function(e,t){return this.setPosition(e).setContent(t),this}},{key:"addTo",value:function(e){return this._viewer=e,this.enabled=!0,this._bindEvent(),Object.defineProperty(this._viewer,"popup",{value:this,writable:!1}),this}}]),n}(m);function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l()(this,n)}}var G=function(e){c()(n,e);var t=V(n);function n(){var e;return o()(this,n),(e=t.call(this))._wrapper=d.create("div","cesium-tool-tip"),e._ready=!0,e.type="tooltip",e}return s()(n,[{key:"_updateWindowCoord",value:function(e){var t=e.x+10,n=e.y-this._wrapper.offsetHeight/2;this._wrapper.style.cssText="\n    visibility:visible;\n    z-index:1;\n    transform:translate3d(".concat(Math.round(t),"px,").concat(Math.round(n),"px, 0);\n    ")}},{key:"showAt",value:function(e,t){return this._enabled?(e&&this._updateWindowCoord(e),this.setContent(t),this):this}},{key:"addTo",value:function(e){return this._viewer=e,Object.defineProperty(this._viewer,"tooltip",{value:this,writable:!1}),this}}]),n}(m);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l()(this,n)}}var K=function(e){c()(n,e);var t=Z(n);function n(){var e;return o()(this,n),(e=t.call(this))._wrapper=d.create("div","cesium-zoom-controller"),e._zoomInEl=void 0,e._zoomOutEl=void 0,e._refreshEl=void 0,e.type="zoom_controller",e}return s()(n,[{key:"_getCameraFocus",value:function(e){var t=new Cesium.Ray(e.camera.positionWC,e.camera.directionWC),n=Cesium.IntersectionTests.rayEllipsoid(t,Cesium.Ellipsoid.WGS84);return n?Cesium.Ray.getPoint(t,n.start):Cesium.IntersectionTests.grazingAltitudeLocation(t,Cesium.Ellipsoid.WGS84)}},{key:"_getCameraPosition",value:function(e,t,n){var i=new Cesium.Cartesian3,o=Cesium.Cartesian3.subtract(t,e.position,i),r=Cesium.Cartesian3.multiplyByScalar(o,n,i);return Cesium.Cartesian3.add(e.position,r,i)}},{key:"_zoomIn",value:function(){var e=this._viewer.scene,t=e.camera,n=e.screenSpaceCameraController;if(e.mode===Cesium.SceneMode.MORPHING||!n.enableInputs||e.mode===Cesium.SceneMode.COLUMBUS_VIEW)return!0;if(e.mode===Cesium.SceneMode.SCENE2D)t.zoomIn(.5*t.positionCartographic.height);else if(e.mode===Cesium.SceneMode.SCENE3D){var i=this._getCameraFocus(e),o=this._getCameraPosition(t,i,.5);t.flyTo({destination:o,orientation:{heading:t.heading,pitch:t.pitch,roll:t.roll},duration:.5,convert:!1})}}},{key:"_refresh",value:function(){this._viewer.camera.flyHome(1.5)}},{key:"_zoomOut",value:function(){var e=this._viewer.scene,t=e.camera,n=e.screenSpaceCameraController;if(e.mode===Cesium.SceneMode.MORPHING||!n.enableInputs||e.mode===Cesium.SceneMode.COLUMBUS_VIEW)return!0;if(e.mode===Cesium.SceneMode.SCENE2D)t.zoomOut(t.positionCartographic.height);else if(e.mode===Cesium.SceneMode.SCENE3D){var i=this._getCameraFocus(e),o=this._getCameraPosition(t,i,-1);t.flyTo({destination:o,orientation:{heading:t.heading,pitch:t.pitch,roll:t.roll},duration:.5,convert:!1})}}},{key:"_mountContent",value:function(){this._zoomInEl=d.parseDom(f.increase,!0,"zoom-in"),this._refreshEl=d.parseDom(f.refresh,!0,"refresh"),this._zoomOutEl=d.parseDom(f.decrease,!0,"zoom-out"),this._wrapper.appendChild(this._zoomInEl),this._wrapper.appendChild(this._refreshEl),this._wrapper.appendChild(this._zoomOutEl);var e=this;this._zoomInEl.onclick=function(t){e._zoomIn()},this._refreshEl.onclick=function(t){e._refresh()},this._zoomOutEl.onclick=function(t){e._zoomOut()},this._ready=!0}},{key:"addTo",value:function(e){return this._viewer=e,Object.defineProperty(this._viewer,"zoomController",{value:this,writable:!1}),this}}]),n}(m);Cesium.CesiumWidgetMixin=function(e){(new _).addTo(e),(new g).addTo(e),(new T).addTo(e),(new H).addTo(e),(new U).addTo(e),(new N).addTo(e),(new W).addTo(e),(new z).addTo(e),(new G).addTo(e),(new K).addTo(e)}}]);